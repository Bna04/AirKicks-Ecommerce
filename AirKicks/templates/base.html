<!DOCTYPE html>
<html lang="en">
<head>
    {# This head section has all the important setup stuff for the HTML page
       Most of it the user doesnt really see but its important for the browser #}
    <meta charset="UTF-8">
    {# Standard character set I always use for my pages to make sure text displays right #}
    <meta name="viewport" 
          content="width=device-width, initial-scale=1.0">
    {# This line helps make sure my site looks okay on different screen sizes like phones and tablets #}
    
    <title>
        {% block title %}
            AirKicks - Premium Sneakers
        {% endblock %}
    </title>
    {# This is the main title for the browser tab
       Other pages can change the part inside the 'block title' #}
    
    <link rel="stylesheet" 
          href="{{ url_for('static', filename='css/style.css') }}">
    {# Linking to my main CSS file for all the styling of the website #}
    
    {% block head_extra %}
    {% endblock %}
    {# I put this empty block here in case some specific pages need to add extra things to the <head>
       like more CSS files or other meta tags #}
</head>
<body>
    <header>
        <div class="header-container">
            <a href="{{ url_for('home') }}" 
               class="logo-link">
                <img src="{{ url_for('static', filename='images/airkicks-logo.png') }}" 
                     alt="AirKicks Logo" 
                     class="site-logo">
                {# This is my site logo
                   I made it a link so clicking it always goes back to the homepage #}
            </a>
            {# This 'a' tag wraps my logo image to make it a clickable link #}

            <nav>
                <a href="{{ url_for('home') }}" 
                   {% if request.endpoint == 'home' and not request.args.get('q') %}class="active"{% endif %}>
                   Home
                </a>
                {# Link to the Home page
                   I added some Jinja logic here to add an 'active' class if this is the current page
                   so I can style it differently in my CSS #}
                
                <a href="{{ url_for('view_cart') }}" 
                   {% if request.endpoint == 'view_cart' %}class="active"{% endif %}>
                   Cart <span class="cart-icon">üõí</span>
                </a>
                {# Link to the Shopping Cart page
                   Also has the 'active' class logic #}
                
                <form action="{{ url_for('search') }}" 
                      method="GET" 
                      class="search-form">
                    <input type="search" 
                           name="q" 
                           placeholder="Search kicks..." 
                           aria-label="Search" 
                           class="search-input" 
                           value="{{ request.args.get('q', '') }}">
                    {# The search input field
                       The value part remembers what the user typed if they searched already #}
                    <button type="submit" 
                            class="search-button">
                            üîç
                    </button>
                    {# The button to submit the search #}
                </form>
                {# My search bar that I decided to put in the navigation area for easy access #}
            </nav>
            {# This nav holds all my main navigation links like Home and Cart and also the search bar #}
        </div>
        {# This container helps me keep everything in the header (logo and nav) lined up nicely and centered #}
    </header>
    {# This is the main header for my whole website
       It appears on every page because it's in this base template #}

    <div class="flash-messages-container container">
        {# This is where any flash messages from my Flask app will show up
           Like when an item is added to the cart or if there's an error #}
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category|lower }}">
                        {{ message }}
                    </div>
                    {# I loop through all the messages and display each one
                       The category helps my CSS to style them differently (like green for success red for error) #}
                {% endfor %}
            {% endif %}
        {% endwith %}
        {# This whole 'with' block is the standard way Flask recommends for showing flashed messages #}
    </div>
    {# I made a special container for flash messages so they appear neatly above the main content #}

    <main class="container">
        {% block content %}
        {% endblock %}
        {# This 'content' block is the most important part for other pages
           Each page (like index.html or product_details.html) will fill this block with its own unique stuff #}
    </main>
    {# This 'main' tag with the container class is where the specific content of each page will go #}

    <footer>
        <p>
            &copy; {{ current_year }} AirKicks - Not affiliated with Nike or Jordan Brand
        </p>
        {# My simple copyright notice in the footer
           I used the current_year variable that my app.py sends to all templates so it's always up to date #}
        <p>
            <a href="mailto:kicks@airkicks.example">
                Any Questions Email us!
            </a>
        </p>
        {# A contact email link #}
    </footer>
    {# This is the footer for all pages of my site #}
    
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    {# Linking to my main JavaScript file
       This is where I put all the interactive stuff like AJAX calls for the cart and hover effects #}
    
    {% block scripts_extra %}
    {% endblock %}
    {# Similar to 'head_extra' this block is here in case some pages need to load additional or specific JavaScript files #}
</body>
{# This is the end of the visible part of my HTML page #}
</html>
{# This is the end of my base HTML document
   All my other pages build on top of this structure so I dont have to repeat the header and footer everywhere #}
   